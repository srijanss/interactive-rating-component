(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function i(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(t){if(t.ep)return;t.ep=!0;const r=i(t);fetch(t.href,r)}})();const s=':host,:host *,:host :after,:host :before{box-sizing:border-box}.visually-hidden{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0;white-space:nowrap}article{background-image:radial-gradient(circle at center top,#232a34,#181e27);border-radius:.9375rem;padding:1.5rem 1.5rem 2rem;width:100%}@media (min-width:550px){article{margin:0 auto;padding:2rem;width:412px}}:host{color:var(--color-white);font-family:var(--font-family);font-variation-settings:"wght" var(--font-weight-regular)}:host figure,:host h1,:host h2,:host h3,:host p{margin:0;padding:0}:host ul{list-style:none;margin:0;padding:0}:host h1{font-size:1.5rem;font-variation-settings:"wght" var(--font-weight-bold);margin-bottom:.625rem;margin-top:1rem}@media (min-width:550px){:host h1{font-size:1.75rem;margin-bottom:.4375rem;margin-top:1.875rem}}:host p{color:var(--color-light-grey);font-size:.875rem;font-variation-settings:"wght" var(--font-weight-regular);line-height:1.57}@media (min-width:550px){:host p{font-size:.9375rem;line-height:1.6}}article{display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:column}article form{margin-top:1.5rem}figure{align-items:center;background-color:var(--color-dark-blue);border-radius:50%;display:-webkit-box;display:-ms-flexbox;display:flex;height:2.5rem;justify-content:center;width:2.5rem}figure img{max-width:.875rem}@media (min-width:550px){figure{height:3rem;width:3rem}figure img{max-width:1rem}}form{display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:column;gap:1.5rem}@media (min-width:550px){form{gap:2rem}}fieldset{border:none;justify-content:space-between;margin:0;padding:0}.rating-label,fieldset{display:-webkit-box;display:-ms-flexbox;display:flex}.rating-label{position:relative;--radio-size:2.625rem;align-items:center;color:var(--color-light-grey);font-size:.875rem;font-variation-settings:"wght" var(--font-weight-bold);height:2.625rem;height:var(--radio-size);justify-content:center;letter-spacing:.17px;width:2.625rem;width:var(--radio-size)}.rating-label span{padding-top:.25rem;pointer-events:none;position:relative;z-index:1}.rating-label input[type=radio]{appearance:none;-webkit-appearance:none;-moz-appearance:none;background-color:var(--color-dark-blue);border-radius:50%;cursor:pointer;height:100%;left:0;margin:0;padding:0;position:absolute;top:0;width:100%;z-index:0}.rating-label input[type=radio]:hover{background-color:var(--color-primary)}.rating-label input[type=radio]:hover~span{color:var(--color-dark-blue)}.rating-label input[type=radio]:checked{background-color:var(--color-white)}.rating-label input[type=radio]:checked~span{color:var(--color-dark-blue)}@media (min-width:550px){.rating-label{--radio-size:3.1875rem;font-size:1rem;letter-spacing:.2px;line-height:1.5}}button{--button-height:2.8125rem;background-color:var(--color-primary);border:none;border-radius:1.40625rem;border-radius:calc(var(--button-height)/2);color:var(--color-very-dark-blue);cursor:pointer;font-family:var(--font-family);font-size:.875rem;font-variation-settings:"wght" var(--font-weight-bold);height:2.8125rem;height:var(--button-height);letter-spacing:1.87px;padding-top:.25rem;text-transform:uppercase;width:100%}button:hover{background-color:var(--color-white)}@media (min-width:550px){button{font-size:.9375rem;letter-spacing:2px}}p.error{color:var(--color-error);font-size:.875rem;font-variation-settings:"wght" var(--font-weight-regular);text-align:center}',l="data:image/svg+xml,%3csvg%20width='17'%20height='16'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m9.067.43%201.99%204.031c.112.228.33.386.58.422l4.45.647a.772.772%200%200%201%20.427%201.316l-3.22%203.138a.773.773%200%200%200-.222.683l.76%204.431a.772.772%200%200%201-1.12.813l-3.98-2.092a.773.773%200%200%200-.718%200l-3.98%202.092a.772.772%200%200%201-1.119-.813l.76-4.431a.77.77%200%200%200-.222-.683L.233%206.846A.772.772%200%200%201%20.661%205.53l4.449-.647a.772.772%200%200%200%20.58-.422L7.68.43a.774.774%200%200%201%201.387%200Z'%20fill='%23FC7614'/%3e%3c/svg%3e";class d extends HTMLElement{constructor(){super(),this.ratings=[1,2,3,4,5],this.baseURL="/interactive-rating-component"}connectedCallback(){this.shadow=this.attachShadow({mode:"open"}),this.renderHandler()}renderHandler(){this.render(),this.errorMessage=this.shadow.querySelector(".error"),this.handleRatingChange(),this.handleFormSubmit(),this.handleOnPopState()}render(){this.shadow.innerHTML=`
      <style>
        ${s}
      </style>
      <article class="rating-form__block">
        <figure>
          <img src="${l}" alt="Rating icon" />
          <figcaption class="visually-hidden">Rating icon</figcaption>
        </figure>
        <h1>How did we do?</h1>
        <p>Please let us know how we did with your support request. All feedback is appreciated to help us improve our offering!</p>
        <form id="rating-form">
          <fieldset>
            <legend class="visually-hidden">Select a rating score</legend>
            ${this.ratings.map(e=>`
                <label for="star${e}" title="1 Star" class="rating-label">
                  <input type="radio" id="star${e}" name="rating" value="${e}" />
                  <span>${e}</span>
                </label>
              `).join("")}
          </fieldset>
          <button type="submit">Submit</button>
          <p class="error" hidden>Please select a rating before submitting</p>
        </form>
      </article> 
      <result-component></result-component>
    `}handleRatingChange(){const e=this.shadow.querySelectorAll('input[type="radio"]');Array.from(e).forEach(i=>{i.addEventListener("change",o=>{this.errorMessage.hidden=!0})})}handleFormSubmit(){const e=this.shadow.querySelector("#rating-form");e.addEventListener("submit",i=>{i.preventDefault();const o=new FormData(e),t=Object.fromEntries(o.entries());if(!t.rating){this.errorMessage.hidden=!1;return}this.navigateToResultView(t.rating),e.reset()})}navigateToResultView(e){const i=this.shadow.querySelector("result-component");history.pushState({currentRating:e},null,`${this.baseURL}/`),i.render()&&this.hideFormView()}hideFormView(){this.shadow.querySelector(".rating-form__block").setAttribute("style","display: none")}handleOnPopState(){window.addEventListener("popstate",()=>{this.renderHandler()})}}const c=':host,:host *,:host :after,:host :before{box-sizing:border-box}.visually-hidden{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0;white-space:nowrap}article{background-image:radial-gradient(circle at center top,#232a34,#181e27);border-radius:.9375rem;padding:1.5rem 1.5rem 2rem;width:100%}@media (min-width:550px){article{margin:0 auto;padding:2rem;width:412px}}:host{color:var(--color-white);font-family:var(--font-family);font-variation-settings:"wght" var(--font-weight-regular)}:host h1,:host h2,:host h3,:host p{margin:0;padding:0}:host figure{margin:10px 0 0;padding:0}:host ul{list-style:none;margin:0;padding:0}:host h2{font-size:1.5rem;font-variation-settings:"wght" var(--font-weight-bold);margin-bottom:.625rem}@media (min-width:550px){:host h2{font-size:1.75rem;margin-bottom:.4375rem}}:host p{color:var(--color-light-grey);font-size:.875rem;font-variation-settings:"wght" var(--font-weight-regular);line-height:1.57}@media (min-width:550px){:host p{font-size:.9375rem;line-height:1.6}}article{align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:column;opacity:0;transform:scale(.5);transition:transform .5s,opacity .5s}article.active{opacity:1;transform:scale(1)}figure{margin-top:10px}p.result{align-items:center;background-color:var(--color-dark-blue);border-radius:1rem;color:var(--color-primary)!important;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:.875rem;font-variation-settings:"wght" var(--font-weight-regular);height:32px;justify-content:center;line-height:1.57;margin:1.5rem 0;padding-top:.25rem;width:168px}@media (min-width:550px){p.result{font-size:.9375rem;margin:2rem 0;width:193px}}p.content{padding:0 .25rem;text-align:center}',h="/interactive-rating-component/assets/illustration-thank-you-DnJomgTa.svg";class g extends HTMLElement{constructor(){self=super(),this.currentRating=null}connectedCallback(){this.shadow=this.attachShadow({mode:"open"})}render(){const e=history.state;return e.currentRating===null?null:(this.currentRating=e.currentRating,this.shadow.innerHTML=`
      <style>
        ${c}
      </style>
      <article class="result-block">
        <figure>
          <img src="${h}" alt="Rating receipt illustration" />
          <figcaption class="visually-hidden">Rating receipt illustration</figcaption>
        </figure>
        <p class="result">You selected ${this.currentRating} out of 5</p>
        <h2>Thank you!</h2>
        <p class="content">We appreciate you taking the time to give a rating. If you ever need more support, donâ€™t hesitate to get in touch!</p>
      </article>
    `,setTimeout(()=>{this.shadow.querySelector(".result-block").classList.add("active")},1),this)}}customElements.define("form-component",d);customElements.define("result-component",g);
